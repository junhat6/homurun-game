# スマブラ（大乱闘スマッシュブラザーズ）基本仕様

## 概要

大乱闘スマッシュブラザーズ（以下スマブラ）は、相手にダメージを蓄積させ、場外へ吹っ飛ばして撃墜するゲームです。
従来の格闘ゲームとは異なり、体力ゲージではなく「蓄積ダメージ（%）」システムを採用しています。

---

## ダメージシステム

### 蓄積ダメージ（%）

- 攻撃を受けると蓄積ダメージが増加
- 蓄積ダメージが大きいほど、攻撃を受けた際に遠くまで吹っ飛ぶ
- 『3DS』以降では、自分の攻撃のふっとばし力にも蓄積ダメージが影響

### ダメージの種類

各攻撃には以下のパラメータが設定されています：

| パラメータ | 説明 |
|----------|------|
| 与えるダメージ | 相手の蓄積%に加算される値 |
| 設定ダメージ | ふっとび計算に使用される値 |
| リアクション付加値 | ふっとび値に固定で加算される値 |
| リアクション影響値 | ふっとび値に乗算される倍率 |
| リアクション固定値 | 蓄積%に関係なくふっとび値を決定する値 |
| 設定角度 | ふっとぶ角度 |

---

## 吹っ飛ばし（ノックバック）システム

### 基本計算式（スマブラDX）

**リアクション固定値なしの場合：**

```
ふっとび値 = (((((((攻撃前の% + 与えるダメージ) / 10) + ((攻撃前の% + 与えるダメージ) * 設定ダメージ / 20)) 
              * (200 / (体重 + 100)) * 1.4) + 18) * (R影響値 / 100)) + R付加値) 
              * ふっとび率 * ふっとばし率 * ふっとばされ率 * スマッシュホールド補正
```

**リアクション固定値ありの場合：**

```
ふっとび値 = (((((1 + (10 * R固定値 / 20)) * (200 / (体重 + 100)) * 1.4) + 18) * R影響値) + R付加値) 
              * ふっとび率 * ふっとばし率 * ふっとばされ率 * スマッシュホールド補正
```

### 吹っ飛び角度の計算

```
実際に吹っ飛ぶ角度 = 設定角度 + (18 * sin((設定角度 - 入力角度) * PI / 180)^2)
```

### 影響する要素

**攻撃側：**
- 攻撃力
- リアクション値（付加値・影響値・固定値）
- 設定角度
- スマッシュホールド補正（通常: 1.0、ホールド中: 1.2）

**防御側：**
- 蓄積ダメージ%
- キャラクターの体重
- 落下加速度・最高速度
- ベクトル変更（スティック入力）

---

## 体重システム

### 体重とは

- ファイターが持つ固有のパラメータ
- 体重が大きいほど吹っ飛ばされにくく、撃墜されにくい
- 体重が軽いほど吹っ飛ばされやすく、撃墜されやすい

### 体重の効果

1. **撃墜耐性**: 重いファイターは同じ攻撃を受けても遠くまで飛ばない
2. **投げ硬直**: 投げる対象が重いほど、投げる側の硬直が長くなる場合がある
3. **追撃回避**: 重いファイターは投げからの追撃を受けにくい

### 体重ランキング（スマブラSP）

| 順位 | キャラクター | 体重 |
|-----|------------|-----|
| 1位 | クッパ | 135 |
| 2位 | キングクルール | 133 |
| 3位 | デデデ | 127 |
| 3位 | ドンキーコング | 127 |
| ... | ... | ... |
| 最軽量 | ピチュー | 62 |

※『DX』時代：ピチュー 55 〜 クッパ 117

### 注意点

- シュルクの「モナドアーツ」や勇者の補助コマンドは「被ダメージと吹っ飛びやすさ」を変化させるが、体重自体は変わらない
- 『64』では値が低いほど重いという逆表記だったが、『DX』以降は通常表記に統一

---

## 特殊な仕様

### 硬直フレーム

```
硬直フレーム = floor(ふっとび値 * 0.4) - 1
```

### ダウン状態

- ふっとび値が80以上 かつ 硬直31F以上で発生

### しゃがみ耐性

- しゃがみモーション中に受けた攻撃のふっとび値が2/3倍に軽減

### ヨッシーのふんばりジャンプ

- 受けたふっとび値から120を減算する特殊仕様

---

## 参考リンク

- [スマブラDX 対戦攻略指南 - ノックバック詳細](https://dx.smashbr0s.com/guide/advanced/knockback/)
- [大乱闘スマッシュブラザーズWiki - 体重](https://smashwiki.info/%E4%BD%93%E9%87%8D)
- [大乱闘スマッシュブラザーズWiki - 蓄積ダメージ](https://smashwiki.info/%E8%93%84%E7%A9%8D%E3%83%80%E3%83%A1%E3%83%BC%E3%82%B8)
